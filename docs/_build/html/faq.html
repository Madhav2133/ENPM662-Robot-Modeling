<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Frequently Faced Errors &mdash; ENPM 662: Introduction to Robot Modelling 1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Support" href="support.html" />
    <link rel="prev" title="Creating and Saving a world in Gazebo" href="world.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> ENPM 662: Introduction to Robot Modelling
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install_ubuntu.html">Install Ubuntu</a></li>
<li class="toctree-l1"><a class="reference internal" href="install_ros2.html">Install ROS2</a></li>
<li class="toctree-l1"><a class="reference internal" href="solidworks.html">Solidworks</a></li>
<li class="toctree-l1"><a class="reference internal" href="workspace.html">Workspace Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="package_creation.html">Create a Package in ROS 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="add_urdf.html">Add URDF to Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="add_control.html">Controllers</a></li>
<li class="toctree-l1"><a class="reference internal" href="rviz.html">RVIZ</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugin.html">Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="script.html">teleop Script</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_objects.html">Custom Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="world.html">Creating and Saving a world in Gazebo</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Frequently Faced Errors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#xacro-package-is-not-installed">1. Xacro Package is Not Installed</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ros-controller-manager-not-found">2. ROS Controller Manager Not Found</a></li>
<li class="toctree-l2"><a class="reference internal" href="#transform-not-available">3. Transform Not Available</a></li>
<li class="toctree-l2"><a class="reference internal" href="#subscribing-to-imu-sensor-data">4. Subscribing to IMU Sensor data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Support</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ENPM 662: Introduction to Robot Modelling</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Frequently Faced Errors</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/faq.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="frequently-faced-errors">
<h1>Frequently Faced Errors<a class="headerlink" href="#frequently-faced-errors" title="Permalink to this heading"></a></h1>
<section id="xacro-package-is-not-installed">
<h2>1. Xacro Package is Not Installed<a class="headerlink" href="#xacro-package-is-not-installed" title="Permalink to this heading"></a></h2>
<a class="reference internal image-reference" href="_images/xacro_error.png"><img alt="Xacro Package Errors" src="_images/xacro_error.png" style="width: 700px;" /></a>
<p>If you face a error like above. You will need to install the xacro package. This can be done using the following commands.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>ros-galactic-xacro
</pre></div>
</div>
</section>
<section id="ros-controller-manager-not-found">
<h2>2. ROS Controller Manager Not Found<a class="headerlink" href="#ros-controller-manager-not-found" title="Permalink to this heading"></a></h2>
<a class="reference internal image-reference" href="_images/ros_controller_manager.png"><img alt="ROS Controller Manager" src="_images/ros_controller_manager.png" style="width: 700px;" /></a>
<p>If you are facing errors like above. You will need to install the controller manager explicitly. Use the below command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>ros-galactic-controller-manager
</pre></div>
</div>
</section>
<section id="transform-not-available">
<h2>3. Transform Not Available<a class="headerlink" href="#transform-not-available" title="Permalink to this heading"></a></h2>
<a class="reference internal image-reference" href="_images/link_error_1.png"><img alt="RViz Errors" src="_images/link_error_1.png" style="width: 700px;" /></a>
<p>If you’re encountering issues where your robot spawns correctly in Gazebo but you’re getting errors in RViz, particularly related to missing link transforms, it’s possible that the problem stems from inaccuracies in the axis definitions for the link joints within your URDF file.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span>#<span class="w"> </span>The<span class="w"> </span>axis<span class="w"> </span>might<span class="w"> </span>be<span class="w"> </span>either<span class="w"> </span>completely<span class="w"> </span>0
<span class="nt">&lt;axis</span>
<span class="w">  </span><span class="na">xyz=</span><span class="s">&quot;0 0 0&quot;</span><span class="nt">/&gt;</span>
#<span class="w"> </span>The<span class="w"> </span>axis<span class="w"> </span>might<span class="w"> </span>have<span class="w"> </span>fractions
<span class="nt">&lt;axis</span>
<span class="w">  </span><span class="na">xyz=</span><span class="s">&quot;0.0000123 0.998289 0&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/link_error_2.png"><img alt="Incorrect Axis representation" src="_images/link_error_2.png" style="width: 700px;" /></a>
<p>The correct representation of axes should be in the form of whole numbers, as exemplified below.</p>
<a class="reference internal image-reference" href="_images/link_error_3.png"><img alt="Correct Axis representation" src="_images/link_error_3.png" style="width: 700px;" /></a>
<p>To resolve this issue, you will need to reconstruct your URDF by exporting the Solidworks Assembly once again. Please consult the software sessions for guidance on how to assign reference axes to the joints. Utilizing reference joints will rectify the problems associated with incorrect joint definitions, ensuring a error-free experience in RViz.</p>
</section>
<section id="subscribing-to-imu-sensor-data">
<h2>4. Subscribing to IMU Sensor data<a class="headerlink" href="#subscribing-to-imu-sensor-data" title="Permalink to this heading"></a></h2>
<p>Error</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>WARN<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="m">1698900148</span>.627976887<span class="o">]</span><span class="w"> </span><span class="o">[</span>minimal_subscriber<span class="o">]</span>:<span class="w"> </span>New<span class="w"> </span>publisher<span class="w"> </span>discovered<span class="w"> </span>on<span class="w"> </span>topic<span class="w"> </span><span class="s1">&#39;imu_plugin/out&#39;</span>,<span class="w"> </span>offering<span class="w"> </span>incompatible<span class="w"> </span>QoS.<span class="w"> </span>No<span class="w"> </span>messages<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>received<span class="w"> </span>from<span class="w"> </span>it.<span class="w"> </span>Last<span class="w"> </span>incompatible<span class="w"> </span>policy:<span class="w"> </span>RELIABILITY
</pre></div>
</div>
<p>You have to manually change your QOS profile in your script.</p>
<p>To do so:</p>
<p>Add:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">rclpy.qos</span><span class="w"> </span><span class="kn">import</span> <span class="n">QoSProfile</span><span class="p">,</span> <span class="n">ReliabilityPolicy</span><span class="p">,</span> <span class="n">HistoryPolicy</span>
</pre></div>
</div>
<p>Then, in your init function add:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">qos_profile</span> <span class="o">=</span> <span class="n">QoSProfile</span><span class="p">(</span>
  <span class="n">reliability</span><span class="o">=</span><span class="n">ReliabilityPolicy</span><span class="o">.</span><span class="n">BEST_EFFORT</span><span class="p">,</span>
  <span class="n">history</span><span class="o">=</span><span class="n">HistoryPolicy</span><span class="o">.</span><span class="n">KEEP_LAST</span><span class="p">,</span>
  <span class="n">depth</span><span class="o">=</span><span class="mi">10</span>
  <span class="p">)</span>
</pre></div>
</div>
<p>Then, in your publisher, instead of queue size = 10, replace the argument in create_subscription with qos_profile:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#Subscribe to the &#39;imu_plugin/out&#39; topic</span>
<span class="bp">self</span><span class="o">.</span><span class="n">imu_sub</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_subscription</span><span class="p">(</span><span class="n">Imu</span><span class="p">,</span> <span class="s1">&#39;imu_plugin/out&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">imu_callback</span><span class="p">,</span> <span class="n">qos_profile</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="world.html" class="btn btn-neutral float-left" title="Creating and Saving a world in Gazebo" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="support.html" class="btn btn-neutral float-right" title="Support" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Shantanu Parab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>